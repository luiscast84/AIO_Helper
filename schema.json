{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "name": "hvac_telemetry",
    "description": "A schema for HVAC device telemetry data",
    "type": "object",
    "required": ["timestamp", "device_id", "equipment_type", "data"],
    "properties": {
      "timestamp": {
        "type": "string",
        "description": "ISO 8601 timestamp of the telemetry reading"
      },
      "device_id": {
        "type": "string",
        "description": "Unique identifier for the HVAC device"
      },
      "equipment_type": {
        "type": "string",
        "enum": ["HVAC"]
      },
      "data": {
        "type": "object",
        "required": ["id", "device_id", "temperature_celsius", "humidity_percent", "power_usage_kwh", "operating_mode"],
        "properties": {
          "id": {
            "type": "integer",
            "description": "Unique identifier for the telemetry record"
          },
          "device_id": {
            "type": "string",
            "description": "Reference to the parent device ID"
          },
          "temperature_celsius": {
            "type": "number",
            "description": "Current temperature reading in Celsius"
          },
          "humidity_percent": {
            "type": "number",
            "description": "Current humidity reading as percentage"
          },
          "power_usage_kwh": {
            "type": "number",
            "description": "Power consumption in kilowatt-hours"
          },
          "operating_mode": {
            "type": "string",
            "enum": ["heating", "cooling", "off", "auto"],
            "description": "Current operating mode of the HVAC system"
          }
        }
      }
    }
  }